<ion-header>
  <ion-toolbar>
    <ion-title>cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!cartDataList">
    <ion-card>
      <ion-row>
        <ion-col size="12">
          <img src="assets/images/logo.jpg">
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <div text-center>
            ไม่มีสินค้าในรถเข็น
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <div text-center>
            <ion-button (click)="onShoppingClick()" color="warning">ไปช้อปปิ้ง</ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-card>
  </div>

  <div *ngIf="cartDataList">
    <ion-card>
      <ion-item>
        <ion-thumbnail>
          <ion-checkbox color="danger" mode="ios" (click)="onSelectShop()"></ion-checkbox>
        </ion-thumbnail>
        <ion-label *ngFor="let cate of cartDataList">{{cate.shop_name}}</ion-label>
      </ion-item>

      <ion-item>
        <ion-thumbnail>
          <ion-checkbox color="danger" mode="ios" (click)="onSelectProduct()"></ion-checkbox>
        </ion-thumbnail>
        <ion-row *ngFor="let cate of cartDataList">
          <ion-col size="4" *ngFor="let cate of cate.product">
            <ion-chip class="chip" color="danger">
              <ion-label>{{cate.discount}}</ion-label>
            </ion-chip>
            <div (click)="onOpenlistClick()">
              <img [src]="cate.img">
            </div>

          </ion-col>
          <ion-col size="8" *ngFor="let cate of cate.product">
            <ion-row>
              <ion-col size="12">
                {{cate.name}}
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="8" (click)="specModal()">
                <ion-label color="medium">
                  {{cate.color}},{{cate.storage}}
                  <ion-icon name="arrow-down" mode="ios"></ion-icon>
                </ion-label>
              </ion-col>
              <ion-col size="4">
                <ion-button (click)="onDeleteClick()">
                  <ion-icon name="trash"></ion-icon>
                </ion-button>

              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="12">
                {{cate.currency}}{{cate.price}}
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="6">
                <del>{{cate.currency}}{{cate.discount_price}}</del>
              </ion-col>
              <ion-col size="6">
                <ion-buttons>
                  <ion-button (click)="onRemoveClick()">
                    <ion-icon slot="icon-only" name="remove-circle"></ion-icon>
                  </ion-button>
                  {{cate.amount}}
                  <ion-button (click)="onAddClick()">
                    <ion-icon slot="icon-only" name="add-circle"></ion-icon>
                  </ion-button>
                </ion-buttons>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-item>
    </ion-card>
    <ion-card>
      <ion-row>
        <ion-col size="9">
          <ion-item>
            <ion-input type="text" placeholder="ใส่รหัสคูปอง"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item color="danger" disabled (click)="onAcceptCodeClick()">
            <ion-label>
              รับ
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-card>
  </div>




  <h1 style="text-align: center;">แนะนำ</h1>

  <ion-row>
    <ion-col size="6" *ngFor="let reccomment of reccommentDataList">
      <ion-card>
        <div (click)="onOpenDetailClick()">
          <img [src]="reccomment.image">
        </div>
        <ion-row>
          <ion-col size="12" text-wrap>
            {{reccomment.name}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            {{reccomment.price.currency}} {{reccomment.price.amount}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="10">
            {{reccomment.price.currency}} {{reccomment.installment.amount}} {{reccomment.installment.period}}
          </ion-col>
          <ion-col size="2">
            <div (click)="onAddToCartClick()">
              <ion-icon name="cart"></ion-icon>
            </div>
          </ion-col>
        </ion-row>
      </ion-card>
    </ion-col>
  </ion-row>


</ion-content>


<ion-footer *ngIf="cartDataList">
  <ion-row *ngFor="let cate of cartDataList">
    <ion-col size="3">
      <ion-checkbox color="danger" mode="ios" (click)="onSelectAll()"></ion-checkbox>
      <ion-text>ทั้งหมด</ion-text>
    </ion-col>

    <ion-col size="9" *ngFor="let cate of cate.product">
      <ion-row>
        <ion-col>
          ยอดรวม:{{cate.currency}}{{cate.price}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col (click)="InstallmentModal()">
          {{cate.installment_currency}}{{cate.installment_amount}}{{cate.installment_period}}
          <ion-icon mode="ios" name="arrow-forward"></ion-icon>
        </ion-col>
        <ion-col>
          <ion-button (click)="presentAlert()" class="footer-botton" color="warning">ชำระ({{cate.amount}})</ion-button>

        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</ion-footer>