<ion-header>
  <ion-toolbar>
    <ion-title>cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-row *ngIf="!cartDataList">
    <ion-col size="12">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <img src="assets/images/logo.jpg">
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <div text-center>
              ไม่มีสินค้าในรถเข็น
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <div text-center>
              <ion-button (click)="onShoppingClick()" color="warning">ไปช้อปปิ้ง</ion-button>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-grid *ngFor="let cate of cartDataList">
        <ion-row>
          <ion-col size="12">
            <ion-item>
              <ion-thumbnail>
                <ion-checkbox color="danger" mode="ios" (click)="onSelectShop()"></ion-checkbox>
              </ion-thumbnail>
              <ion-icon class="icon" name="md-appstore"></ion-icon>
              <ion-label class="select">{{cate.shop_name}}</ion-label>
            </ion-item>

            <ion-item>
              <ion-thumbnail>
                <ion-checkbox color="danger" mode="ios" (click)="onSelectProduct()"></ion-checkbox>
              </ion-thumbnail>

              <ion-row *ngFor="let cate of cate.product; let i = index; let j = index">
                <ion-col size="4">
                  <ion-chip class="chip" color="danger">
                    <ion-label>{{cate.discount}}</ion-label>
                  </ion-chip>
                  <div (click)="onOpenlistClick()">
                    <img [src]="cate.img">
                  </div>
                </ion-col>

                <ion-col size="8">
                  <ion-row>
                    <ion-col size="12">
                      <ion-text class="phonename">
                        {{cate.name}}
                      </ion-text>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col size="8" (click)="specModal()">
                      <ion-label color="medium" class="quantity">
                        {{cate.color}},{{cate.storage}}
                        <ion-icon name="arrow-down" mode="ios"></ion-icon>
                      </ion-label>
                    </ion-col>
                    <ion-col size="4">
                      <ion-button (click)="onDeleteClick()">
                        <ion-icon name="trash"></ion-icon>
                      </ion-button>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col size="12">
                      <ion-text class="phoneprice">
                        {{cate.currency}}{{cate.price}}
                      </ion-text>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col size="6">
                      <del class="quantity">{{cate.currency}}{{cate.discount_price}}</del>
                    </ion-col>
                    <ion-col size="6">
                      <ion-buttons>
                        <ion-button (click)="onRemoveClick(i,j)"
                          [disabled]="cartDataList[i].product[j].amount_product === 0">
                          <ion-icon slot="icon-only" name="remove-circle"></ion-icon>
                        </ion-button>
                        {{cate.amount_product}}
                        <ion-button (click)="onAddClick(i,j)">
                          <ion-icon slot="icon-only" name="add-circle"></ion-icon>
                        </ion-button>
                      </ion-buttons>
                    </ion-col>
                  </ion-row>

                </ion-col>

                <!-- <ion-col size="8" *ngFor="let cate of cate.product;let j = index">
                  <ion-row>
                    <ion-col size="12">
                      <ion-text class="phonename">
                        {{cate.name}}
                      </ion-text>
                    </ion-col>
                  </ion-row>

                  <ion-row>
                    <ion-col size="8" (click)="specModal()">
                      <ion-label color="medium" class="quantity">
                        {{cate.color}},{{cate.storage}}
                        <ion-icon name="arrow-down" mode="ios"></ion-icon>
                      </ion-label>
                    </ion-col>

                    <ion-col size="4">
                      <ion-button (click)="onDeleteClick()">
                        <ion-icon name="trash"></ion-icon>
                      </ion-button>
                    </ion-col>
                  </ion-row>

                  <ion-row>
                    <ion-col size="12">
                      <ion-text class="phoneprice">
                        {{cate.currency}}{{cate.price}}
                      </ion-text>
                    </ion-col>
                  </ion-row>

                  <ion-row>
                    <ion-col size="6">
                      <del class="quantity">{{cate.currency}}{{cate.discount_price}}</del>
                    </ion-col>

                    <ion-col size="6">
                      <ion-buttons>
                        <ion-button (click)="onRemoveClick(i,j)"
                          [disabled]="cartDataList[i].product[j].amount_product === 0">
                          <ion-icon slot="icon-only" name="remove-circle"></ion-icon>
                        </ion-button>
                        {{cate.amount_product}}
                        <ion-button (click)="onAddClick(i,j)">
                          <ion-icon slot="icon-only" name="add-circle"></ion-icon>
                        </ion-button>
                      </ion-buttons>
                    </ion-col>
                  </ion-row>

                </ion-col> -->

              </ion-row>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col size="9">
                <ion-item>
                  <ion-input type="text" placeholder="ใส่รหัสคูปอง"></ion-input>
                </ion-item>
              </ion-col>
              <ion-col size="3">
                <ion-item color="danger" disabled (click)="onAcceptCodeClick()">
                  <ion-label text-center>
                    รับ
                  </ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-col>
  </ion-row>




<h1 class="producttext" text-center>แนะนำ</h1>
<productlist [recivedata]="reccommentDataList"></productlist>

</ion-content>

<ion-footer *ngIf="cartDataList">
  <ion-row *ngFor="let cate of cartDataList">
    <ion-col size="8">
      <ion-row>
        <ion-col size="2">
          <span>
            <ion-checkbox class="icon-check" color="danger" mode="ios" (click)="onSelectAll()"></ion-checkbox>
          </span>
        </ion-col>
        <ion-col size="3" class="footer-pading">
          <ion-text>ทั้งหมด</ion-text>
        </ion-col>
        <ion-col size="7">
          <span>
            ยอดรวม:
          </span>
          <span *ngFor="let cate of cate.product" class="spanprice">
            {{cate.currency}}{{cate.price}}
          </span>
          <span *ngFor="let cate of cate.product" class="installment">
            {{cate.installment_currency}}{{cate.installment_amount}} {{cate.installment_period}}
            <ion-icon class="icon-inner" mode="ios" name="arrow-forward" (click)="InstallmentModal()"></ion-icon>
          </span>

        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col size="4" *ngFor="let cate of cate.product">
      <ion-item (click)="onPayClick()" class="footer-button" color="warning">
        <ion-label text-center>
          <span class="quantity">
            ชำระ({{cate.amount_product}})
          </span>
        </ion-label>
      </ion-item>
    </ion-col>
  </ion-row>
</ion-footer>