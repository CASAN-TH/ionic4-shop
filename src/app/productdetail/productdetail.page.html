<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" (click)="goBackClick()">
      <ion-button>
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>productdetail</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-grid class="grid-top" *ngFor="let itemproduct of productdetailData.productdetail">
    <ion-slides pager [options]="slideOpts">
      <ion-slide *ngFor="let itemimg of itemproduct.images">
        <img [src]="itemimg">
      </ion-slide>
    </ion-slides>
  </ion-grid>

  <ion-row>
    <ion-col size="12" *ngFor="let itemproduct of productdetailData.productdetail">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <h1 class="pri">{{itemproduct.currency}} {{itemproduct.price}}</h1>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <ion-item-divider lines="none" (click)="paymentModal()">
              <ion-label>
                <span>
                  {{PaymentData.selected.down_amount.currency}}
                  {{PaymentData.selected.period_amount.amount_period}}
                </span>
                <span>
                  {{PaymentData.selected.period_amount.period}}
                  {{PaymentData.selected.period_amount.per}}
                </span>
              </ion-label>
              <ion-buttons slot="end">
                <ion-button>
                  <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-item-divider>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <h4 class="titlewar">{{itemproduct.name}}</h4>
          </ion-col>
        </ion-row>

        <ion-item lines="none">
          <ion-buttons>
            <ion-button class="btn-icon">
              <ion-icon name="star"></ion-icon>
            </ion-button>
            <ion-button class="btn-icon">
              <ion-icon name="heart"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-item>

      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-grid class="grid-top">
        <ion-item (click)="vouchersModal()">
          <ion-label>บัตรกำนัล</ion-label>
          <ion-label>
            <span *ngFor="let item of VouchersData">
              {{item.currency}} {{item.amount}}
            </span>
          </ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>
        <ion-item (click)="promotionModal()">
          <ion-label>โปรโมชั่น</ion-label>
          <ion-label>
            <ion-row>
              <ion-col size="3"
                *ngFor="let itemimage of [PromotionData[0],PromotionData[1],PromotionData[2],PromotionData[3]]">
                <img [src]="itemimage.image">
              </ion-col>
            </ion-row>
          </ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>
        <ion-item lines="none" (click)="tcoinModal()">
          <ion-label>Tcoin</ion-label>
          <ion-label>
            <span>
              {{TcoinData.Tcoinname}}
            </span>
          </ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>

      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-grid>
        <ion-item (click)="warrantyModal()">
          <ion-label>บริการ</ion-label>
          <ion-label *ngFor="let items of WarrantyData">
            <ion-text *ngFor="let item of items.warranties">{{item.title}}</ion-text>
          </ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>
        <ion-item lines="none" (click)="specificationModal()">
          <ion-label>สเปค</ion-label>
          <ion-label>
            <span>
              {{SpecificationData.color}} {{SpecificationData.version}}
            </span>
          </ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>
      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-grid>
        <ion-item (click)="reviewModal()">
          <ion-label>รีวิว</ion-label>
          <ion-label>Primary Note</ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>

        <ion-row>
          <ion-col size="12">
            <ion-label>
              <ion-row *ngFor="let item of ReviewData.user">
                <ion-col size="12">
                  <ion-item>
                    <ion-avatar slot="start">
                      <img [src]="item.profileimg">
                    </ion-avatar>
                    <ion-label>
                      {{item.name}}
                      <ion-row>
                        <ion-col size="12">
                          <ion-row>
                            <ion-col size="2" *ngFor="let icon of item.stars">
                              <img style="width: 50%;" [src]="icon.icon_star">
                            </ion-col>
                          </ion-row>
                        </ion-col>
                      </ion-row>
                      <ion-text>{{item.date}}</ion-text>
                    </ion-label>
                  </ion-item>
                  <ion-row *ngFor="let view of ReviewData.user">
                    <ion-col size="12">
                      <ion-label *ngFor="let rev of view.reviews">
                        <ion-text>{{rev.reviewtitle}}</ion-text>
                        <ion-row>
                          <ion-col size="3" *ngFor="let itemimg of rev.reviewimg">
                            <img style="width:100%; height: 100%;" [src]="itemimg">
                          </ion-col>
                        </ion-row>
                      </ion-label>
                    </ion-col>
                  </ion-row>
                </ion-col>
              </ion-row>
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-grid>
        <ion-item lines="none" (click)="imformationSpecModal()">
          <ion-label>ข้อมูลจำเพาะ</ion-label>
          <ion-note slot="end">
            <ion-buttons class="btn">
              <ion-button>
                <ion-icon slot="icon-only" name="ios-arrow-forward"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-note>
        </ion-item>
      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12" *ngFor="let detail of productdetailData.details">
      <ion-grid>
        <ion-item (click)="reviewModal()">
          <ion-label>
            <ion-text class="titlewar">{{detail.detailname}}</ion-text>
          </ion-label>
        </ion-item>
        <div>
          <img *ngFor="let item of detail.images" [src]="item">
        </div>
      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12" *ngFor="let warranty of productdetailData.warranties">
      <ion-grid>
        <ion-item>
          <ion-label>
            <ion-text class="titlewar">{{warranty.warrantyname}}</ion-text>
          </ion-label>
        </ion-item>

        <ion-row>
          <ion-col size="12" *ngFor="let warranty2 of warranty.warrantiestitle">
            <p class="titlewar">{{warranty2.title}}</p>
            <p class="subtitlewar">{{warranty2.subtitle}}</p>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <p class="subtitlewar">{{warranty.sub1}}</p>
            <p class="subtitlewar">{{warranty.sub2}}</p>
            <p class="subtitlewar">{{warranty.sub3}}</p>
            <p class="subtitlewar">{{warranty.sub4}}</p>
            <p class="subtitlewar">{{warranty.sub5}}</p>
            <p class="subtitlewar">{{warranty.sub6}}</p>
            <p>หากมีคำถามอื่นๆ สามารถสอบถามเจ้าพนักงานได้โดยตรง</p>
          </ion-col>
        </ion-row>

      </ion-grid>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-row>
        <ion-col size="4" text-end>
          <img class="iconimg" src="https://image.flaticon.com/icons/png/512/2152/2152407.png">
        </ion-col>
        <ion-col size="4">
          <h1 class="producttext" text-center>แนะนำ</h1>
        </ion-col>
        <ion-col size="4" text-start>
          <img class="iconimg" src="https://image.flaticon.com/icons/png/512/2152/2152407.png">
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>

  <productlist [recivedata]="ReccommentData"></productlist>

</ion-content>

<ion-footer>
  <ion-grid class="grid-footter">
    <ion-row *ngFor="let itemproduct of productdetailData.productdetail">
      <ion-col size="4">
        <ion-buttons class="btn-center" (click)="onChatClick()">
          <ion-button class="opinion">
            <ion-icon name="chatbubbles"></ion-icon>
            ฝ่ายบริการลูกค้า
          </ion-button>
        </ion-buttons>
      </ion-col>
      <ion-col size="4" class="add-cart">
        <ion-buttons class="btn-center" (click)="onCartClick(itemproduct._id)">
          <ion-button class="butcolor">
            เพิ่มใส่รถเข็น
          </ion-button>
        </ion-buttons>
      </ion-col>
      <ion-col size="4" class="buy">
        <ion-buttons class="btn-center" (click)="onPaymentClick(itemproduct._id)">
          <ion-button class="butcolor">
            ซื้อทันที
          </ion-button>
        </ion-buttons>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>